<!DOCTYPE html>
<html lang="es">
<head>
	<title>Section</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
	<link rel="stylesheet" href="./css/main.css">

	
	<script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0/dist/Chart.min.js"> </script>
	
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
	<script href ="https://github.com/eligrey/FileSaver.js.git"></script>

  <!-- Font Awesome -->
    



</head>
<body  >
	<!-- SideBar -->
	<section class="full-box cover dashboard-sideBar">
		<div class="full-box dashboard-sideBar-bg btn-menu-dashboard"></div>
		<div class="full-box dashboard-sideBar-ct">
			<!--SideBar Title -->
			<div class="full-box text-uppercase text-center text-titles dashboard-sideBar-title">
				Proyecto PROSECAR  <i class="zmdi zmdi-close btn-menu-dashboard visible-xs"></i>
			</div>
			<!-- SideBar User info -->
			<div class="full-box dashboard-sideBar-UserInfo">
				<figure class="full-box">
					<img src="./assets/img/avatar.png" alt="UserIcon">
					<figcaption class="text-center text-titles">Administrador</figcaption>
				</figure>
				<ul class="full-box list-unstyled text-center">
					<li>
						<a href="#!">
							<i class="zmdi zmdi-settings"></i>
						</a>
					</li>
					<li>
						<a href="#!" class="btn-exit-system">
							<i class="zmdi zmdi-power"></i>
						</a>
					</li>
				</ul>
			</div>
			<!-- SideBar Menu -->
			<ul class="list-unstyled full-box dashboard-sideBar-Menu">
				<li>
					<a href="home.html">
						<i class="zmdi zmdi-view-dashboard zmdi-hc-fw" > </i> Inicio 
					</a>
				</li>

				<li>
					<a href="estadisticas.html">
						<i class="zmdi zmdi-card zmdi-hc-fw" ></i> Estadisticas
					</a>
				</li>

				<li>
					<a href="#!" class="btn-sideBar-SubMenu">
						<i class="zmdi zmdi-account-add zmdi-hc-fw"></i> Usuario <i class="zmdi zmdi-caret-down pull-right"></i>
					</a>
					<ul class="list-unstyled full-box">
						<li>
							<a href="persona.html"><i class="zmdi zmdi-account zmdi-hc-fw"></i>Persona </a>
						</li>
						<li>
							<a href="estudiante.html"><i class="zmdi zmdi-face zmdi-hc-fw"></i>estudiante </a>
						</li>
						<li>
							<a href="familiares.html"><i class="zmdi zmdi-male-female zmdi-hc-fw"></i>Familiares</a>
						</li>
					</ul>
				</li>
				<li>





					<a href="#!" class="btn-sideBar-SubMenu">
						<i class="zmdi zmdi-case zmdi-hc-fw"></i> Matrícula<i class="zmdi zmdi-caret-down pull-right"></i>
					</a>
					<ul class="list-unstyled full-box">
						<li>
							<a href="matricularTutoria.html"><i class="zmdi zmdi-timer zmdi-hc-fw"></i> Matricular Tutoria</a>
						</li>
						<li>
							<a href="registrarTutoria.html"><i class="zmdi zmdi-book zmdi-hc-fw"></i> Registrar Tutoria</a>
						</li>
						<li>
							<a href="calificaciones.html"><i class="zmdi zmdi-graduation-cap zmdi-hc-fw"></i> Registrar Calificaciones</a>
						</li>
					</ul>
				</li>
				<li>
					<a href="#!" class="btn-sideBar-SubMenu">
						<i class="zmdi zmdi-card zmdi-hc-fw"></i> Área Médica <i class="zmdi zmdi-caret-down pull-right"></i>
					</a>
					<ul class="list-unstyled full-box">
						<li>
							<a href="citas.html"><i class="zmdi zmdi-book zmdi-hc-fw"></i> Cita Médica</a>
						</li>
					
					</ul>
				</li>

				<li>
					<a href="#!" class="btn-sideBar-SubMenu">
						<i class="zmdi zmdi-card zmdi-hc-fw"></i> Área psicológica <i class="zmdi zmdi-caret-down pull-right"></i>
					</a>
					<ul class="list-unstyled full-box">
						<li>
							<a href="citas.html"><i class="zmdi zmdi-book zmdi-hc-fw"></i> Cita Psicológica</a>
						</li>
					
					</ul>
				</li>


				<li>
					<a href="#!" class="btn-sideBar-SubMenu">
						<i class="zmdi zmdi-card zmdi-hc-fw"></i> Seguridad <i class="zmdi zmdi-caret-down pull-right"></i>
					</a>
					<ul class="list-unstyled full-box">
						<li>
							<a href="parametros.html"><i class="zmdi zmdi-account zmdi-hc-fw"></i>Parametros </a>
						</li>
						<li>
							<a href="estudiante.html"><i class="zmdi zmdi-face zmdi-hc-fw"></i>permisos</a>
						</li>
						<li>
							<a href="tiposUsuario.html"><i class="zmdi zmdi-male-female zmdi-hc-fw"></i>Tipos de Usuarios</a>
						</li>
						<li>
							<a href="Preguntas de seguridad.html"><i class="zmdi zmdi-male-female zmdi-hc-fw"></i>Preguntas recuperar contraseña</a>
						</li>
						<li>
							<a href="modulos.html"><i class="zmdi zmdi-male-female zmdi-hc-fw"></i>Modulos</a>
						</li>
					</ul>
				</li>


			       <li>
						<a href="#" class="btn-sideBar-SubMenu">
							<i class="zmdi zmdi-shield-security zmdi-hc-fw"></i> Actividades registradas <i class="zmdi zmdi-caret-down pull-right"></i>
						</a>
						<ul class="list-unstyled full-box">
							<li >
								<a href="Bitacora del sistema.html"><i class="zmdi zmdi-calendar-note zmdi-hc-fw"></i>Bitacora</a>
							</li>

							
						</ul>
			       </li>



				<li>
					<a href="#!" class="btn-sideBar-SubMenu">
						<i class="zmdi zmdi-shield-security zmdi-hc-fw"></i> Settings School <i class="zmdi zmdi-caret-down pull-right"></i>
					</a>
					<ul class="list-unstyled full-box">
						<li>
							<a href="school.html"><i class="zmdi zmdi-balance zmdi-hc-fw"></i> School Data</a>
						</li>
					</ul>
				</li>
			</ul>
		</div>
	</section>


	<!-- Content page-->
	<section class="full-box dashboard-contentPage">
		<nav class="full-box dashboard-Navbar">
			<ul class="full-box list-unstyled text-right">
				<li class="pull-left">
					<a href="#!" class="btn-menu-dashboard"><i class="zmdi zmdi-more-vert"></i></a>
					
				</li>
				<span style="color:white;padding-right: 50px;">Miercoles, 3 de noviembre del 2021</span>
				<span style="color:white; padding-right: 50px; ">Hora: 2:50</span>
				

				
				
			</ul>
		</nav>

        <div class="container-fluid">
			<div class="page-header">
				<div class="row">   

					
					<div class="col-md-7" style="padding-left: 85px;">
						<h1 class="text-titles " style="padding-left: 170px;"><i</i>Estadísticas del sistema </h1>
					</div>
					<div class="col-md-2" >
						<img src="./assets/img/logoparroquia.jpg" style="width: 120px;">
					</div>
	
			    </div>
			</div>
		</div>
		<div class = "container-fluid">
			<div class="row">
				<div class="col-5"> 
					<div class="card  text-dark  border-danger  mb-3" style="max-width: 35rem;">
						<div class="card-header text-white bg-danger">Gráfica de cantidad de afiliados a los Proyectos</div>
						<div class="card-body text-primary">

						 

						 <div class="btn-group">
							<button class="btn btn-default btn-sm dropdown-toggle"
							 type="button" data-toggle="dropdown">
							 <i class="fa-solid fa-download"></i>Descargar<span></span>
							</button>
							<ul class="dropdown-menu">
							  <li  id="descargar" style="cursor: pointer; padding:6px;" >Descargar PNG</li>
							  <li id="save-pdf" style="cursor: pointer; padding:6px;" >Descargar PDF</li>
							</ul>
						  </div>
							
						  <!-- Font Awesome  <canvas id ="myChart" style="min-height: 250px; height: 250px; max-height: 250px; max-width: 100%;"> </canvas><br> -->
						  <!--<div id="donutchart" style="min-height: 350px; height: 350px; max-height: 350px; max-width: 100%;"></div>-->
						  
                           <div id="chart_div" style="min-height: 350px; height: 350px; max-height: 350px; max-width: 100%;" ></div>
						</div>
                    </div>
				</div>

				<div class="col-5"  >
					<div class="card  text-dark  border-primary  mb-3" style="max-width: 40rem;">
						<div class="card-header text-white bg-primary">Gráfica de Proyectos</div> 
						
						<div class="card-body text-primary">
							<!--<p class="card-title text-center text-black">Porcentaje de tutorías academicas</p><br>-->

							<div class="btn-group">
								<button class="btn btn-default btn-sm dropdown-toggle"
								 type="button" data-toggle="dropdown">
								 <i class="fa-solid fa-download"></i>Descargar <span></span>
								</button>
								<ul class="dropdown-menu">
								  <li id="save" style="cursor: pointer; padding:6px;" > PNG</li>
								  <li id="bajando1" style="cursor: pointer; padding:6px;" >PDF</li>
								</ul>
							</div>
							<div id="donutchart" style="min-height: 350px; height: 350px; max-height: 350px; max-width: 100%;"></div>
						 <!-- <canvas id ="mchart" style="min-height: 250px; height: 250px; max-height: 250px; max-width: 100%;"></canvas><br> -->
                          
						  
						  
						</div>
					</div>

				</div>
			</div>
			<div class="row">
				<div class="col-5"> 
					<div class="card  text-dark  border-success  mb-3" style="max-width: 40rem;">
						<div class="card-header text-white bg-success">Gráfica Proyectos por año</div>
						<div class="card-body text-primary">
						 <!-- 	<p class="card-title text-center text-black">Estudiantes por año</p><br>-->

							<div class="btn-group">
								<button class="btn btn-default btn-sm dropdown-toggle"
								 type="button" data-toggle="dropdown">
								 <i class="fa-solid fa-download"></i>Descargar <span></span>
								</button>
								<ul class="dropdown-menu">
								  <li id="descargar1" style="cursor: pointer;  padding:6px;" > PNG</li>
								  <li id="bajando" style="cursor: pointer;  padding:6px;" >PDF</li>
								</ul>
							</div>
						  
						 <!--  <canvas id ="tablita" style="min-height: 250px; height: 250px; max-height: 250px; max-width: 100%;"> </canvas><br> -->
						    <div id ="curve_chart" style="min-height: 250px; height: 250px; max-height: 250px; max-width: 100%;"></div>

						</div>
                    </div>
				</div>

				<div class="col-5">
					<div class="card text-dark  mb-3" style="max-width: 40rem;">
						<div class="card-header text-white bg-danger">Gráfica de ingresos y egresos de los proyectos</div>
						<div class="card-body text-primary">
							
							<p class="card-title text-center text-black">Dispositivos mas usados</p><br>

							<div class="btn-group">
								<button class="btn btn-default btn-sm dropdown-toggle"
								 type="button" data-toggle="dropdown">
								 <i class="fa-solid fa-download"></i>Descargar <span></span>
								</button>
								<ul class="dropdown-menu">
								  <li id="descargar2" style="cursor: pointer; padding:6px;" > PNG</li>
								  <li id="bajando3" style="cursor: pointer; padding:6px;" >PDF</li>
								</ul>
							</div>
						  
						 <!-- <canvas id ="tablis" style="min-height: 250px; height: 250px; max-height: 250px; max-width: 100%;"></canvas><br>--> 
						  <div id ="grafiHi" style="min-height: 250px; height: 250px; max-height: 250px; max-width: 100%;"></div>
						
						</div>
					</div>
				</div>


			</div>
			
			
			
			
            

        </div>	
        

	</section>

	<!-- Notifications area -->
	<section class="full-box Notifications-area">
		<div class="full-box Notifications-bg btn-Notifications-area"></div>
		<div class="full-box Notifications-body">
			<div class="Notifications-body-title text-titles text-center">
				Notifications <i class="zmdi zmdi-close btn-Notifications-area"></i>
			</div>
			<div class="list-group">
			  	<div class="list-group-item">
				    <div class="row-action-primary">
				      	<i class="zmdi zmdi-alert-triangle"></i>
				    </div>
				    <div class="row-content">
				      	<div class="least-content">17m</div>
				      	<h4 class="list-group-item-heading">Tile with a label</h4>
				      	<p class="list-group-item-text">Donec id elit non mi porta gravida at eget metus.</p>
				    </div>
			  	</div>
			  	<div class="list-group-separator"></div>
			  	<div class="list-group-item">
				    <div class="row-action-primary">
				      	<i class="zmdi zmdi-alert-octagon"></i>
				    </div>
				    <div class="row-content">
				      	<div class="least-content">15m</div>
				      	<h4 class="list-group-item-heading">Tile with a label</h4>
				      	<p class="list-group-item-text">Donec id elit non mi porta gravida at eget metus.</p>
				    </div>
			  	</div>
			  	<div class="list-group-separator"></div>
				<div class="list-group-item">
				    <div class="row-action-primary">
				      	<i class="zmdi zmdi-help"></i>
				    </div>
				    <div class="row-content">
				      	<div class="least-content">10m</div>
				      	<h4 class="list-group-item-heading">Tile with a label</h4>
				      	<p class="list-group-item-text">Maecenas sed diam eget risus varius blandit.</p>
				    </div>
				</div>
			  	<div class="list-group-separator"></div>
			  	<div class="list-group-item">
				    <div class="row-action-primary">
				      	<i class="zmdi zmdi-info"></i>
				    </div>
				    <div class="row-content">
				      	<div class="least-content">8m</div>
				      	<h4 class="list-group-item-heading">Tile with a label</h4>
				      	<p class="list-group-item-text">Maecenas sed diam eget risus varius blandit.</p>
				    </div>
			  	</div>
			</div>

		</div>
	</section>


	<!-- Dialog help -->
	<div class="modal fade" tabindex="-1" role="dialog" id="Dialog-Help">
	  	<div class="modal-dialog" role="document">
		    <div class="modal-content">
			    <div class="modal-header">
			        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
			    	<h4 class="modal-title">Help</h4>
			    </div>
			    <div class="modal-body">
			        <p>
			        	Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nesciunt beatae esse velit ipsa sunt incidunt aut voluptas, nihil reiciendis maiores eaque hic vitae saepe voluptatibus. Ratione veritatis a unde autem!
			        </p>
			    </div>
		      	<div class="modal-footer">
		        	<button type="button" class="btn btn-primary btn-raised" data-dismiss="modal"><i class="zmdi zmdi-thumb-up"></i> Ok</button>
		      	</div>
		    </div>
	  	</div>
	</div>

	

	<!--====== Scripts -->
	<script src="./js/jquery-3.1.1.min.js"></script>
	<script src="./js/sweetalert2.min.js"></script>
	<script src="./js/bootstrap.min.js"></script>
	<script src="./js/material.min.js"></script>
	<script src="./js/ripples.min.js"></script>
	<script src="./js/jquery.mCustomScrollbar.concat.min.js"></script>
	<script src="./js/main.js"></script>
	


	 <!-- script de las graficas--->
	<script type="text/javascript" src="http://www.google.com/jsapi"></script>
	
	<script src="FileSaver.js"> </script>
    <script src="canvas-toBlob.js"> </script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.min.js"
	 integrity="sha512-t2JWqzirxOmR9MZKu+BMz0TNHe55G5BZ/tfTmXMlxpUY8tsTo3QMD27QGoYKZKFAraIPDhFv56HLdN11ctmiTQ==" crossorigin="anonymous"
	 referrerpolicy="no-referrer"></script>
	 <script type ="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.2/jspdf.debug.js"></script>
  
	
    
	 
<script type="text/javascript">
	google.charts.load('current', {
	packages: ['controls', 'corechart', 'table']
	}).then(function () {
	var data = new google.visualization.arrayToDataTable([
	
	['Task', 'Hours per Day'],
	['Académica',     11],
	['Médica',      2],
	['Psicológica',  2],
		
	]);
	var options = {
          title: 'My Daily Activities',
          pieHole: 0.4,
        };

	var container = document.getElementById('chart_div');
	var chart = new google.visualization.PieChart(container);
	var btnSave = document.getElementById('save-pdf');

	google.visualization.events.addListener(chart, 'ready', function () {
		btnSave.disabled = false;
	});

	btnSave.addEventListener('click', function () {
		var doc = new jsPDF('landscape');
		doc.setFontSize(20);
		doc.addImage(chart.getImageURI(), 50,50,0,0);
		doc.text(40,9,"Reporte gráfico de estudiantes por área del Proyecto PROSECAR")
		doc.save('Estudiantes_area.pdf');
	}, false);

	        
	chart.draw(data, {
		chartArea: {
		bottom:20,
		left: 40,
		right:30 ,
		width: '100%',
		height: '100%'
		},
		
	});
	}); 
	 </script>



    <!--Nuevas graficas #2-->
	<script type="text/javascript">
		google.charts.load('current', {
	packages: ['controls', 'corechart', 'table']
	}).then(function () {
	var data = new google.visualization.arrayToDataTable([
	
	['Task', 'Hours per Day'],
	['Matemáticas',     60],
	['Ingles',      10],
	['Español',  30],
		
	]);

	var container = document.getElementById('donutchart');
	var chart = new google.visualization.PieChart(container);
	var btnSave = document.getElementById('bajando1');

	google.visualization.events.addListener(chart, 'ready', function () {
		btnSave.disabled = false;
	});

	btnSave.addEventListener('click', function () {
		var doc = new jsPDF('landscape');
		doc.setFontSize(20);
		doc.addImage(chart.getImageURI(), 50,50,0,0);
		doc.text(40,9," Reporte gráfico de Alumnos matriculados por tutorias")
		doc.save('porcentaje_tutorias.pdf');
	}, false);

	        
	chart.draw(data, {
		chartArea: {
		bottom:20,
		left: 40,
		right:30 ,
		width: '100%',
		height: '100%'
		},
		
	});
	});
	
 </script>
 
 <!--Nueva grafica #3-->
 <script>
	 google.charts.load('current', {
	packages: ['controls', 'corechart', 'table']
	}).then(function () {
	var data = new google.visualization.arrayToDataTable([


	
	['Mes', '2020','2021'],
	['Enero' ,50,40],
	['Marzo' ,40,35],  
	['Julio' ,30,60]
		
	]);
    var options = {
          title: 'Company Performance',
          curveType: 'function',
          legend: { position: 'bottom' }
        };
	var container = document.getElementById('curve_chart');
	var chart = new google.visualization.LineChart(container);
	var btnSave = document.getElementById('bajando');

	google.visualization.events.addListener(chart, 'ready', function () {
		btnSave.disabled = false;
	});

	btnSave.addEventListener('click', function () {
		var doc = new jsPDF('landscape');
		doc.setFontSize(20);
		doc.addImage(chart.getImageURI(), 50,50,0,0);
		doc.text(40,9,"Reporte gráfico Estudiantes inscritos por año y mes")
		doc.save('Porcentaje_estudiantes_año.pdf');
	}, false);

	        
	chart.draw(data, {
		chartArea: {
		bottom:20,
		left: 40,
		right:30 ,
		width: '100%',
		height: '100%'
		},
		
	});
	});

 </script>


<script>
	google.charts.load('current', {
   packages: ['controls', 'corechart', 'table']
   }).then(function () {
   var data = new google.visualization.arrayToDataTable([
   
   ['Mes', '2020'],
   ['Telefono' ,50],
   ['Tablet' ,10],  
   ['Computadora' ,40]
	   
   ]);
   var options = {
        title: 'Popularity of Types of Pizza',
        sliceVisibilityThreshold: .2
      };
   var container = document.getElementById('grafiHi');
   var chart = new google.visualization.PieChart(container);
   chart.draw(data, options);
   var btnSave = document.getElementById('bajando3');

   google.visualization.events.addListener(chart, 'ready', function () {
	   btnSave.disabled = false;
   });

   btnSave.addEventListener('click', function () {
	   var doc = new jsPDF('landscape');
	   doc.setFontSize(20);
	   doc.addImage(chart.getImageURI(), 50,50,0,0);
	   doc.text(40,10,"Reporte gráfico de Dispositivos usados por estudiantes")
	   doc.save('Porcentaje_Dispositivos_masUsados.pdf');
   }, false);

		   
   chart.draw(data, {
	   chartArea: {
	   bottom:20,
	   left: 40,
	   right:30 ,
	   
	   width: '100%',
	   height: '100%'
	   },
	   
   });
   });

</script>






   <!-- Codigo de la grafica1 anteior -->
	<script>

		 $("#descargar").click(function() {
          $("#myChart").get(0).toBlob(function(blob){
			  saveAs(blob, "grafica_area.png")
			});
			
		});
				var ctx= document.getElementById("myChart").getContext("2d");
				var myChart= new Chart(ctx,{

				type:"pie",
				data:{
				labels:['Académica','Medica','Psicológica'],
				datasets:[{
				label:'Num datos',
				data:[60,30,10],
				backgroundColor:[
				' #3DE8FF' ,
				'#FC49B2',
				'#EFE80D'
				]
				}]
				},
				options:{
				scales:{
				yAxes:[{
				ticks:{
				beginAtZero:true
				}
				}]
				}
				}
				});
			function bajando2(){
			const canvas = document.getElementById('myChart');
			const canvasImage = canvas.toDataURL('image/jpeg',1.0);
			console.log(canvasImage)

			let pdf = new jsPDF('landscape');
			pdf.setFontSize(20);
			pdf.addImage(canvasImage, 'JPEG',15,15,260,140);
			pdf.text(90,9,"Reporte gráfico de estudiantes por área")
			pdf.save('grafica_porcentajeArea.pdf');

		}
   </script>
		
 

 <!--codigo de la grafica2 anteior-->
	<script>
       $("#save").click(function() {
          $("#mchart").get(0).toBlob(function(blob){
			  saveAs(blob, "grafica2.png")
			});
			
		});

		var ctx= document.getElementById("mchart").getContext("2d");
		var mchart= new Chart(ctx,{
		type:"bar",
		data:{
		labels:['Alcantarillado','Agua Potable','Pavimentacion de calle'],
		datasets:[{
		label:'Clases',
		
		
		data:[60,40,20, 10],
		backgroundColor:[
		
		'rgb(66, 134, 244,0.5) ',
		'rgb(74, 135, 72,0.5)',
		'rgb(229, 89, 50,0.5)'
		]
		}]
		},
		options:{
		scales:{
		yAxes:[{
		ticks:{
		beginAtZero:true
		}
		}]
		}
		}
		});	
		function bajando1(){
			const canvas = document.getElementById('mchart');
			const canvasImage = canvas.toDataURL('image/jpeg',1.0);
			console.log(canvasImage)

			let pdf = new jsPDF('landscape');
			pdf.setFontSize(20);
			pdf.addImage(canvasImage, 'JPEG',15,15,260,140);
			pdf.text(90,9,"Porcentaje de tutorías academicas")
			pdf.save('grafica_PorcentajeTutorias.pdf');

		}
	</script>
	
 <!--codigo grafica3 vieja o anterior-->
	<script>
		$("#descargar1").click(function() {
          $("#tablita").get(0).toBlob(function(blob){
			  saveAs(blob, "grafica_estudiantes_poraño.png")
			});
			
		});

		var ctx= document.getElementById("tablita").getContext("2d");
		const bgColor ={
			id: 'bgColor',
			beforeDraw: (chart, steps,options) =>{
				const {ctx,width,height} = chart;
				ctx.fillStyle = 'options.backgroundColor';
				ctx.fillRect(0,0,width,height)
				ctx.restore();
			}

		}
		var tablita= new Chart(ctx,{
		label:'grafic',
		type:"line",
		data:{
		labels:['2019','2020','2021'],
		datasets:[{
		label:'Rango',
		
		data:[80,150,140],
		backgroundColor:[
		'#00DD82 ',
		
		]
		}]
		},
		options:{
		scales:{
		yAxes:[{
		ticks:{
		beginAtZero:true
		},
		Plugins:{
			bgColor:{
				backgroundColor:'white'
			}
		}
		}]
        
		},
		Plugin:[bgColor]
		}

		});

		function bajando(){
			const canvas = document.getElementById('tablita');
			const canvasImage = canvas.toDataURL('image/jpeg',1.0);
			console.log(canvasImage)

			let pdf = new jsPDF('landscape');
			pdf.setFontSize(20);
			pdf.addImage(canvasImage, 'JPEG',15,15,260,140);
			pdf.text(100,9,"Grafica de estudiantes por año")
			pdf.save('grafica_Estudiantes.pdf');
		}

	</script>

   <!--codigo grafica4  vieja o anterior-->
	<script>

		$("#descargar2").click(function() {
          $("#tablis").get(0).toBlob(function(blob){
			  saveAs(blob, "grafica_dispositivos.png")
			});
			
		});
		
	   
		Chart.register(ChartDataLabels);
		var ctx= document.getElementById("tablis").getContext("2d");
		
		var tablis= new Chart(ctx,{
		type:"pie",
		data:{
			labels:['Computadora','Celular','Tablet'],
		datasets:[{
		
		data:[50,60,30],
		backgroundColor:[
		'#EE14FF ',
		'#33E20E',
		'#D2E20E'
		]
		}]
		},
		options:{
		scales:{
		yAxes:[{
		ticks:{
		beginAtZero:true
		}
		}]
		}
		}
		});
		function bajando3(){
			const canvas = document.getElementById('tablis');
			const canvasImage = canvas.toDataURL('image/jpeg',1.0);
			console.log(canvasImage)

			let pdf = new jsPDF('landscape');
			pdf.setFontSize(20);
			pdf.addImage(canvasImage, 'JPEG',15,15,260,140);
			pdf.text(15,15,"Estudiantes por año")
			pdf.save('grafica_Estudiantes.pdf');
		}
	</script>





 

  
</body>
</html>